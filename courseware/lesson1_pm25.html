<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬ä¸€è¯¾ï¼šçœ‹ä¸è§çš„æˆ˜äº‰ - æ­ç§˜ PM2.5 ä¸è‡­æ°§</title>
    
    <!-- Reveal.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/theme/black.css" id="theme">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- ECharts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>

    <!-- Custom CSS -->
    <style>
        .reveal .slides section {
            text-align: left;
            font-size: 34px;
            font-weight: normal;
        }
        .reveal p, .reveal li {
            font-size: 1em;
            line-height: 1.6;
        }
        .reveal ul ul, .reveal ol ol {
            font-size: 1em;
        }
        .reveal h1 { font-size: 2.6em; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .reveal h2 { font-size: 2.0em; }
        .reveal h3 { font-size: 1.5em; }
        .reveal h1, .reveal h2, .reveal h3 {
            text-transform: none;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        .highlight-green { color: #4ade80; }
        .highlight-red { color: #f87171; }
        .highlight-blue { color: #60a5fa; }
        
        /* Microscope Animation Styles */
        #microscope-container {
            position: relative;
            width: 800px;
            height: 450px;
            margin: 0 auto;
            border-radius: 20px;
            overflow: hidden;
            border: 4px solid #333;
            background: #e0f2f1;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.5);
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 24px; /* Increased font size for visibility */
            transition: transform 0.1s linear; 
        }
        
        /* Hair */
        .hair {
            width: 700px;
            height: 700px;
            background: #5d4037;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 1;
        }
        
        /* PM10 */
        .pm10 {
            width: 100px;
            height: 100px;
            background: #d4a373;
            top: 40%;
            left: 60%;
            z-index: 2;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
            color: #333; /* Dark text for contrast */
            font-size: 20px;
        }
        
        /* PM2.5 */
        .pm25 {
            width: 25px;
            height: 25px;
            background: #ef5350;
            top: 45%;
            left: 55%;
            z-index: 3;
            animation: float 3s infinite ease-in-out;
            /* Fix blurring on scale */
            backface-visibility: hidden;
            transform: translateZ(0); 
            box-shadow: 0 0 1px rgba(0,0,0,0);
        }

        /* Virus */
        .virus {
            width: 1px;
            height: 1px;
            background: #7b1fa2;
            top: 45.5%;
            left: 55.5%;
            z-index: 4;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }

        .zoom-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            background: rgba(0,0,0,0.7);
            padding: 10px 20px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        input[type=range] { width: 200px; cursor: pointer; }
        .scale-label { font-size: 14px; color: #aaa; }

        /* Quiz Styles */
        .quiz-option {
            background: #2d3748;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        .quiz-option:hover { background: #4a5568; }
        .quiz-option.correct { background: #2f855a; border-color: #48bb78; }
        .quiz-option.wrong { background: #c53030; border-color: #fc8181; opacity: 0.7; }
        
        /* AQI Scale */
        .aqi-bar {
            height: 50px; /* Increased height */
            width: 100%;
            display: flex;
            border-radius: 25px;
            overflow: hidden;
            margin-top: 20px;
        }
        .aqi-segment {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px; /* Increased font size */
            font-weight: bold;
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        .text-card-title { font-size: 30px !important; }
        .text-card-body { font-size: 24px !important; }
    </style>
</head>
<body>

<div class="reveal">
    <div class="slides">

        <!-- Slide 1: Title -->
        <section data-background-gradient="linear-gradient(to bottom right, #1a202c, #2f855a)">
            <div class="flex flex-col items-center justify-center h-full">
                <div class="text-6xl mb-4 animate-bounce">ğŸŒ«ï¸ â” ğŸƒ</div>
                <h1 class="text-5xl font-bold mb-6">çœ‹ä¸è§çš„æˆ˜äº‰</h1>
                <h2 class="text-3xl text-green-400">æ­ç§˜ PM2.5 ä¸è‡­æ°§</h2>
                <div class="mt-12 text-gray-300 text-xl border-t border-gray-600 pt-6">
                    <p class="text-card-body">ç¯ä¿ç§‘æ™®ç³»åˆ—å¾®è¯¾ Â· ç¬¬ä¸€è®²</p>
                    <p class="mt-2 text-card-body opacity-70">ä¸»è®²äººï¼šå¼ äºˆå®</p>
                </div>
            </div>
        </section>

        <!-- Slide 2: Intro Data -->
        <section>
            <h3 class="text-green-400 mb-8">æˆ‘ä»¬æ¯å¤©å‘¼å¸å¤šå°‘ç©ºæ°”ï¼Ÿ</h3>
            <div class="grid grid-cols-2 gap-8 items-center">
                <div class="text-center bg-gray-800 p-8 rounded-xl shadow-lg">
                    <div class="text-8xl font-bold text-blue-400 count-up" data-target="15000">0</div>
                    <p class="text-2xl mt-4 text-gray-300">å‡ / å¤©</p>
                </div>
                <div class="text-lg text-gray-300">
                    <ul class="list-none space-y-6">
                        <li class="fragment fade-up bg-gray-900 p-4 rounded-lg border-l-4 border-blue-500">
                            ğŸŒ¬ï¸ æˆå¹´äººæ¯å¤©å‘¼å¸çº¦ <span class="text-white font-bold text-2xl">20,000</span> æ¬¡
                        </li>
                        <li class="fragment fade-up bg-gray-900 p-4 rounded-lg border-l-4 border-yellow-500">
                            âš–ï¸ å¸å…¥ç©ºæ°”é‡çº¦ <span class="text-white font-bold text-2xl">15</span> å…¬æ–¤
                        </li>
                        <li class="fragment fade-up bg-gray-900 p-4 rounded-lg border-l-4 border-red-500">
                            ğŸ” è¿œè¶…æˆ‘ä»¬æ¯å¤©æ‘„å…¥çš„é£Ÿç‰©å’Œæ°´ï¼
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Slide 3: The Three Killers -->
        <section>
            <h3 class="mb-6">è°æ˜¯ç©ºæ°”ä¸­çš„â€œåˆºå®¢â€ï¼Ÿ</h3>
            <div class="grid grid-cols-3 gap-6 text-center">
                <div class="bg-gray-800 p-6 rounded-lg fragment hover:scale-105 transition-transform duration-300">
                    <div class="text-6xl mb-4">ğŸœï¸</div>
                    <h4 class="text-xl font-bold text-yellow-500">PM10</h4>
                    <p class="text-sm text-gray-400 mt-2">å¯å¸å…¥é¢—ç²’ç‰©</p>
                    <div class="mt-4 text-base bg-gray-700 p-2 rounded text-left">
                        <p>â€¢ æ‰¬å°˜</p>
                        <p>â€¢ èŠ±ç²‰</p>
                        <p>â€¢ ç…¤çƒŸ</p>
                    </div>
                </div>
                <div class="bg-gray-800 p-6 rounded-lg fragment hover:scale-105 transition-transform duration-300">
                    <div class="text-6xl mb-4">ğŸš—</div>
                    <h4 class="text-xl font-bold text-red-500">PM2.5</h4>
                    <p class="text-sm text-gray-400 mt-2">ç»†é¢—ç²’ç‰©</p>
                    <div class="mt-4 text-base bg-gray-700 p-2 rounded text-left">
                        <p>â€¢ æ±½è½¦å°¾æ°”</p>
                        <p>â€¢ å·¥ä¸šæ’æ”¾</p>
                        <p>â€¢ äºŒæ¬¡ç”Ÿæˆ</p>
                    </div>
                </div>
                <div class="bg-gray-800 p-6 rounded-lg fragment hover:scale-105 transition-transform duration-300">
                    <div class="text-6xl mb-4">â˜€ï¸</div>
                    <h4 class="text-xl font-bold text-purple-500">Oâ‚ƒ è‡­æ°§</h4>
                    <p class="text-sm text-gray-400 mt-2">å…‰åŒ–å­¦çƒŸé›¾</p>
                    <div class="mt-4 text-base bg-gray-700 p-2 rounded text-left">
                        <p>â€¢ æŒ¥å‘æ€§æœ‰æœºç‰©</p>
                        <p>â€¢ æ°®æ°§åŒ–ç‰©</p>
                        <p>â€¢ å¼ºé˜³å…‰ç…§å°„</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 4: Interactive Microscope -->
        <section data-auto-animate>
            <h3 class="text-green-400">äº¤äº’ä½“éªŒï¼šå¾®è§‚ç²’å­æ˜¾å¾®é•œ</h3>
            <p class="text-sm text-gray-400 mb-4">ğŸ‘‡ æ‹–åŠ¨ä¸‹æ–¹æ»‘å—ï¼Œæ”¾å¤§è§‚å¯Ÿå¾®è§‚ä¸–ç•Œ</p>
            
            <div id="microscope-container">
                <div id="zoom-layer" style="width: 100%; height: 100%; position: relative; transform-origin: 55% 45%;">
                    <!-- Hair (Reference) ~70um -->
                    <div class="hair particle"><span style="font-size: 60px; color: rgba(255,255,255,0.7)">å¤´å‘ä¸ (70Âµm)</span></div>
                    <!-- PM10 ~10um -->
                    <div class="pm10 particle">PM10</div>
                    <!-- PM2.5 ~2.5um -->
                    <div class="pm25 particle"></div>
                    <!-- Virus ~0.1um -->
                    <div class="virus particle"></div>
                </div>

                <div class="zoom-controls">
                    <span class="scale-label text-xl">1x</span>
                    <input type="range" id="zoomSlider" min="1" max="50" value="1" step="0.1" style="width: 300px; height: 30px;">
                    <span class="scale-label text-xl">50x</span>
                </div>
                
                <div id="pm25-label" class="absolute top-1/2 left-1/2 text-red-600 font-bold hidden bg-white px-4 py-2 rounded shadow-lg text-2xl">PM2.5 (2.5Âµm)</div>
            </div>
        </section>

        <!-- Slide 5: PM2.5 Sources Chart -->
        <section>
            <h3>PM2.5 ä»å“ªå„¿æ¥ï¼Ÿ</h3>
            <div class="flex flex-row items-center justify-center gap-8">
                <div id="chart-pm25-source" style="width: 600px; height: 500px;"></div>
                <div class="text-left w-1/3 text-lg">
                    <div class="fragment bg-gray-800 p-4 mb-4 rounded border-l-8 border-blue-500">
                        <h4 class="font-bold text-blue-400 text-2xl">ç‡ƒç…¤æ±¡æŸ“</h4>
                        <p>åŒ—æ–¹å†¬å­£ä¾›æš–ã€ç‡ƒç…¤ç”µå‚</p>
                    </div>
                    <div class="fragment bg-gray-800 p-4 mb-4 rounded border-l-8 border-green-500">
                        <h4 class="font-bold text-green-400 text-2xl">å·¥ä¸šæ±¡æŸ“</h4>
                        <p>é’¢é“ã€æ°´æ³¥ã€åŒ–å·¥ç”Ÿäº§</p>
                    </div>
                    <div class="fragment bg-gray-800 p-4 rounded border-l-8 border-yellow-500">
                        <h4 class="font-bold text-yellow-400 text-2xl">æœºåŠ¨è½¦å°¾æ°”</h4>
                        <p>ç§å®¶è½¦ã€é‡å‹å¡è½¦æ’æ”¾</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 6: Health Impact Animation -->
        <section>
            <div class="flex flex-col items-center">
                <h3 class="mb-4">ä¸ºä»€ä¹ˆ PM2.5 æ›´å¯æ€•ï¼Ÿ</h3>
                <div class="w-full max-w-4xl bg-gray-800 rounded-xl p-6 relative">
                    <svg viewBox="0 0 400 300" class="w-full h-64">
                        <defs>
                            <linearGradient id="lungGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#ff9a9e;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#fad0c4;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <!-- Head/Nose -->
                        <path d="M150,20 Q180,20 180,50 L180,80" fill="none" stroke="#aaa" stroke-width="4"/>
                        <!-- Trachea -->
                        <path d="M180,80 L180,120" fill="none" stroke="#aaa" stroke-width="8"/>
                        <!-- Lungs -->
                        <path d="M180,120 Q140,140 140,200 Q140,260 180,260" fill="url(#lungGradient)" stroke="#444" stroke-width="2" fill-opacity="0.8"/>
                        <path d="M180,120 Q220,140 220,200 Q220,260 180,260" fill="url(#lungGradient)" stroke="#444" stroke-width="2" fill-opacity="0.8"/>
                        
                        <!-- Blood Vessel -->
                        <path d="M120,280 L240,280" stroke="#d32f2f" stroke-width="10" stroke-linecap="round"/>
                        <text x="130" y="295" fill="white" font-size="20" font-weight="bold">è¡€ç®¡</text>

                        <!-- PM10 Path -->
                        <circle cx="160" cy="10" r="5" fill="#d4a373">
                            <animate attributeName="cy" from="10" to="60" dur="2s" repeatCount="indefinite"/>
                            <animate attributeName="opacity" values="1;0" dur="2s" repeatCount="indefinite"/>
                        </circle>
                        <text x="50" y="60" fill="#d4a373" font-size="20" font-weight="bold">PM10: è¢«é¼»æ¯›/å’½å–‰é˜»æŒ¡</text>

                        <!-- PM2.5 Path -->
                        <circle cx="200" cy="10" r="2" fill="#ef5350">
                            <animate attributeName="cy" from="10" to="280" dur="3s" repeatCount="indefinite"/>
                        </circle>
                        <text x="230" y="220" fill="#ef5350" font-size="20" font-weight="bold">PM2.5: ç›´è¾¾è‚ºæ³¡ï¼Œè¿›å…¥è¡€æ¶²</text>
                    </svg>
                </div>
                <p class="mt-4 text-red-400 font-bold fragment">âš ï¸ PM2.5 å¯å¼•å‘å¿ƒè¡€ç®¡ç–¾ç—…ã€å‘¼å¸é“æ„ŸæŸ“ç”šè‡³è‚ºç™Œï¼</p>
            </div>
        </section>

        <!-- Slide 7: Ozone Intro -->
        <section>
            <h3>åŒé¢äººï¼šè‡­æ°§ (Oâ‚ƒ)</h3>
            <div class="grid grid-cols-2 gap-8 h-96">
                <!-- Good Ozone -->
                <div class="bg-blue-900 rounded-xl p-6 flex flex-col justify-between fragment transform hover:-translate-y-2 transition-transform">
                    <div class="text-center">
                        <div class="text-6xl mb-4">ğŸ›¡ï¸</div>
                        <h4 class="text-blue-300 font-bold text-2xl">é«˜ç©ºè‡­æ°§</h4>
                        <p class="text-xl mt-2 text-blue-200">å¹³æµå±‚ (10-50km)</p>
                    </div>
                    <div class="bg-blue-800 p-4 rounded-lg text-xl">
                        <p class="flex items-center gap-2"><span class="text-green-400">âœ…</span> é˜»æŒ¡ 99% ç´«å¤–çº¿</p>
                        <p class="flex items-center gap-2 mt-2"><span class="text-green-400">âœ…</span> åœ°çƒç”Ÿå‘½çš„ä¿æŠ¤ä¼</p>
                    </div>
                </div>

                <!-- Bad Ozone -->
                <div class="bg-purple-900 rounded-xl p-6 flex flex-col justify-between fragment transform hover:-translate-y-2 transition-transform">
                    <div class="text-center">
                        <div class="text-6xl mb-4">â˜ ï¸</div>
                        <h4 class="text-purple-300 font-bold text-2xl">è¿‘åœ°è‡­æ°§</h4>
                        <p class="text-xl mt-2 text-purple-200">å¯¹æµå±‚ (åœ°é¢)</p>
                    </div>
                    <div class="bg-purple-800 p-4 rounded-lg text-xl">
                        <p class="flex items-center gap-2"><span class="text-red-400">âŒ</span> å¼ºæ°§åŒ–æ€§ï¼Œä¼¤è‚º</p>
                        <p class="flex items-center gap-2 mt-2"><span class="text-red-400">âŒ</span> æ¥æºäº å°¾æ°”+é˜³å…‰</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slide 8: Ozone Formation -->
        <section>
            <h3>è‡­æ°§æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ</h3>
            <div class="bg-white rounded-xl p-8 text-black flex items-center justify-center gap-4">
                <div class="text-center">
                    <div class="text-6xl">ğŸš— ğŸ­</div>
                    <p class="text-xl font-bold mt-2">æ°®æ°§åŒ–ç‰© (NOx)</p>
                    <p class="text-xl font-bold">æŒ¥å‘æ€§æœ‰æœºç‰© (VOCs)</p>
                </div>
                <div class="text-6xl font-bold text-gray-400">+</div>
                <div class="text-center">
                    <div class="text-8xl animate-pulse">â˜€ï¸</div>
                    <p class="text-xl font-bold mt-2">å¼ºçƒˆçš„é˜³å…‰</p>
                    <p class="text-xl font-bold">(ç´«å¤–çº¿)</p>
                </div>
                <div class="text-6xl font-bold text-gray-400">=</div>
                <div class="text-center">
                    <div class="text-8xl text-purple-600 font-bold">Oâ‚ƒ</div>
                    <p class="text-xl font-bold mt-2 text-purple-600">è‡­æ°§æ±¡æŸ“</p>
                </div>
            </div>
            <p class="mt-8 text-2xl text-gray-300 fragment text-center">ğŸ’¡ æ‰€ä»¥è‡­æ°§æ±¡æŸ“é€šå¸¸å‘ç”Ÿåœ¨ <span class="text-yellow-400 font-bold">å¤å¤©çš„åˆå</span>ï¼</p>
        </section>

        <!-- Slide 9: AQI Scale -->
        <section>
            <h3>æ•™ä½ çœ‹æ‡‚ AQI (ç©ºæ°”è´¨é‡æŒ‡æ•°)</h3>
            <div class="aqi-bar">
                <div class="aqi-segment bg-green-500">ä¼˜ (0-50)</div>
                <div class="aqi-segment bg-yellow-400 text-black">è‰¯ (51-100)</div>
                <div class="aqi-segment bg-orange-500">è½»åº¦ (101-150)</div>
                <div class="aqi-segment bg-red-500">ä¸­åº¦ (151-200)</div>
                <div class="aqi-segment bg-purple-600">é‡åº¦ (201-300)</div>
                <div class="aqi-segment bg-red-900">ä¸¥é‡ (>300)</div>
            </div>
            
            <div class="grid grid-cols-2 gap-6 mt-8">
                <div class="fragment bg-gray-800 p-6 rounded-lg">
                    <h4 class="text-green-400 font-bold mb-2 text-card-title">ğŸŸ¢ ä¼˜ (Green)</h4>
                    <p class="text-card-body">ç©ºæ°”æ¸…æ–°ï¼Œæ”¾å¿ƒæ·±å‘¼å¸ï¼Œé€‚åˆæ‰€æœ‰æˆ·å¤–æ´»åŠ¨ã€‚</p>
                </div>
                <div class="fragment bg-gray-800 p-6 rounded-lg">
                    <h4 class="text-orange-500 font-bold mb-2 text-card-title">ğŸŸ  è½»åº¦æ±¡æŸ“ (Orange)</h4>
                    <p class="text-card-body">æ•æ„Ÿäººç¾¤ï¼ˆè€äººã€å„¿ç«¥ã€å“®å–˜æ‚£è€…ï¼‰åº”å‡å°‘æˆ·å¤–è¿åŠ¨ã€‚</p>
                </div>
                <div class="fragment bg-gray-800 p-6 rounded-lg">
                    <h4 class="text-red-500 font-bold mb-2 text-card-title">ğŸ”´ ä¸­åº¦åŠä»¥ä¸Š (Red/Purple)</h4>
                    <p class="text-card-body">å…¨å‘˜ä½©æˆ´å£ç½©ï¼Œå‡å°‘å¤–å‡ºï¼Œå…³é—­é—¨çª—ã€‚</p>
                </div>
                <div class="fragment bg-gray-800 p-6 rounded-lg border-2 border-yellow-500">
                    <h4 class="text-yellow-400 font-bold mb-2 text-card-title">âš ï¸ æ³¨æ„</h4>
                    <p class="text-card-body">é™¤äº†çœ‹ AQI æ€»æ•°ï¼Œè¿˜è¦çœ‹ <span class="text-blue-400 font-bold">é¦–è¦æ±¡æŸ“ç‰©</span> æ˜¯è°ï¼</p>
                </div>
            </div>
        </section>

        <!-- Slide 10: Quiz Intro -->
        <section data-background="#2d3748">
            <h2 class="text-yellow-400">ğŸ§  çŸ¥è¯†å°æµ‹éªŒ</h2>
            <p class="text-xl mt-4">çœ‹çœ‹ä½ æŒæ¡äº†å¤šå°‘ï¼Ÿ</p>
            <div class="mt-8 text-6xl animate-bounce">ğŸ‘‡</div>
        </section>

        <!-- Slide 11: Quiz 1 -->
        <section>
            <h3>Q1: ä¸‹åˆ—å“ªç§æ±¡æŸ“ç‰©å¯ä»¥ç›´æ¥ç©¿é€è‚ºæ³¡è¿›å…¥è¡€æ¶²ï¼Ÿ</h3>
            <div class="mt-6">
                <div class="quiz-option" onclick="checkAnswer(this, false)">A. PM10 (æ‰¬å°˜)</div>
                <div class="quiz-option" onclick="checkAnswer(this, true)">B. PM2.5 (ç»†é¢—ç²’ç‰©)</div>
                <div class="quiz-option" onclick="checkAnswer(this, false)">C. äºŒæ°§åŒ–ç¡« (SOâ‚‚)</div>
            </div>
            <div class="quiz-feedback mt-4 hidden font-bold"></div>
        </section>

        <!-- Slide 12: Quiz 2 -->
        <section>
            <h3>Q2: è‡­æ°§æ±¡æŸ“æœ€å®¹æ˜“å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶é—´ï¼Ÿ</h3>
            <div class="mt-6">
                <div class="quiz-option" onclick="checkAnswer(this, false)">A. æ·±å¤œ</div>
                <div class="quiz-option" onclick="checkAnswer(this, false)">B. é˜´é›¨å¤©</div>
                <div class="quiz-option" onclick="checkAnswer(this, true)">C. å¤å­£æ™´æœ—çš„åˆå</div>
            </div>
            <div class="quiz-feedback mt-4 hidden font-bold"></div>
        </section>

        <!-- Slide 13: Summary -->
        <section data-background-gradient="linear-gradient(to top left, #1a202c, #2c5282)">
            <h3>ä»Šæ—¥çŸ¥è¯†ç‚¹å›é¡¾</h3>
            <div class="text-left bg-gray-900 p-8 rounded-xl border-l-8 border-green-500 shadow-2xl">
                <ol class="space-y-6 text-xl">
                    <li class="fragment"><span class="text-red-400 font-bold text-2xl">PM2.5</span>ï¼šéšå½¢æ€æ‰‹ï¼Œæºäºç‡ƒçƒ§ï¼Œå…¥è¡€ä¼¤èº«ã€‚</li>
                    <li class="fragment"><span class="text-purple-400 font-bold text-2xl">è‡­æ°§ (Oâ‚ƒ)</span>ï¼šå…‰åŒ–å­¦äº§ç‰©ï¼Œå¤©è“ä¹Ÿå¯èƒ½ä¸ä»…æ˜¯å¥½å¤©æ°”ã€‚</li>
                    <li class="fragment"><span class="text-blue-400 font-bold text-2xl">AQI</span>ï¼šå‡ºé—¨çœ‹é¢œè‰²ï¼Œæ©™çº¢è¦é˜²æŠ¤ã€‚</li>
                </ol>
            </div>
        </section>

        <!-- Slide 14: Next Preview -->
        <section>
            <p class="text-gray-400 text-sm tracking-widest uppercase">Next Episode</p>
            <h2 class="text-4xl font-bold mt-4 mb-8 text-white">ä¸‹é›†é¢„å‘Š</h2>
            <div class="bg-gray-800 p-8 rounded-xl transform rotate-1 hover:rotate-0 transition-transform duration-500 border border-gray-700">
                <h3 class="text-green-400 mb-4">é’¢é“æ˜¯æ€æ ·â€œç‚¼â€ç»¿çš„ï¼Ÿ</h3>
                <p class="text-gray-300">å·¥ä¸šçƒŸå›±é‡Œçš„ç™½çƒŸåˆ°åº•æ˜¯ä¸æ˜¯æ±¡æŸ“ï¼Ÿ</p>
                <p class="text-gray-300 mt-2">å¦‚ä½•ç»™åºå¤§çš„é’¢é“å‚æˆ´ä¸Šâ€œé˜²æ¯’é¢å…·â€ï¼Ÿ</p>
                <div class="mt-6 flex justify-center gap-4 text-4xl">
                    <span>ğŸ­</span>
                    <span>â¡ï¸</span>
                    <span>ğŸŒ³</span>
                </div>
            </div>
        </section>

        <!-- Slide 15: End -->
        <section data-background-image="https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80">
            <div class="bg-black bg-opacity-60 p-12 rounded-xl">
                <h1 class="text-white font-bold mb-4">æ„Ÿè°¢è§‚çœ‹</h1>
                <p class="text-green-400 text-card-body">æœªæ¥é€ç»¿ Â· è¾½ç–†æ¸…ç©¹</p>
                <p class="text-card-body text-gray-400 mt-8">æœªæ¥æŠ€æœ¯å­¦é™¢ è¾½ç­‘æ¸…ç©¹å®è·µå›¢</p>
            </div>
        </section>

    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.js"></script>
<script>
    // Initialize Reveal.js
    Reveal.initialize({
        controls: true,
        progress: true,
        center: true,
        hash: true,
        transition: 'slide',
        backgroundTransition: 'zoom'
    });

    // Count up animation
    Reveal.on('slidechanged', event => {
        if (event.currentSlide.querySelector('.count-up')) {
            const el = event.currentSlide.querySelector('.count-up');
            const target = parseInt(el.getAttribute('data-target'));
            let current = 0;
            const increment = target / 60;
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                el.innerText = Math.floor(current).toLocaleString();
            }, 16);
        }
    });

    // Microscope Logic
    const slider = document.getElementById('zoomSlider');
    const layer = document.getElementById('zoom-layer');
    const label = document.getElementById('pm25-label');
    
    if(slider) {
            slider.addEventListener('input', (e) => {
                const scale = e.target.value;
                layer.style.transform = `scale(${scale})`;
                // Show label only when zoomed in significantly (e.g., > 40x)
                if (scale > 40) {
                    label.classList.remove('hidden');
                } else {
                    label.classList.add('hidden');
                }
            });
        }

    // ECharts Initialization
    const chartDom = document.getElementById('chart-pm25-source');
    if (chartDom) {
        const myChart = echarts.init(chartDom, 'dark');
        const option = {
            backgroundColor: 'transparent',
            tooltip: { trigger: 'item' },
            legend: { top: '5%', left: 'center', textStyle: { color: '#fff' } },
            series: [
                {
                    name: 'PM2.5 æ¥æº',
                    type: 'pie',
                    radius: ['40%', '70%'],
                    avoidLabelOverlap: false,
                    itemStyle: {
                        borderRadius: 10,
                        borderColor: '#1a202c',
                        borderWidth: 2
                    },
                    label: { show: false, position: 'center' },
                    emphasis: {
                        label: { show: true, fontSize: 24, fontWeight: 'bold', color: '#fff' }
                    },
                    labelLine: { show: false },
                    data: [
                        { value: 30, name: 'ç‡ƒç…¤', itemStyle: { color: '#3b82f6' } },
                        { value: 25, name: 'å·¥ä¸š', itemStyle: { color: '#22c55e' } },
                        { value: 20, name: 'æœºåŠ¨è½¦', itemStyle: { color: '#eab308' } },
                        { value: 15, name: 'æ‰¬å°˜', itemStyle: { color: '#d4a373' } },
                        { value: 10, name: 'å…¶ä»–', itemStyle: { color: '#a855f7' } }
                    ]
                }
            ]
        };
        // Increase Legend Font Size
        option.legend.textStyle.fontSize = 18;
        myChart.setOption(option);
    }

    // Quiz Logic
    function checkAnswer(element, isCorrect) {
        const parent = element.parentElement;
        const feedback = parent.nextElementSibling;
        
        // Disable all clicks in this question
        const options = parent.querySelectorAll('.quiz-option');
        options.forEach(opt => opt.onclick = null);

        if (isCorrect) {
            element.classList.add('correct');
            feedback.innerText = "âœ… å›ç­”æ­£ç¡®ï¼";
            feedback.classList.remove('hidden', 'text-red-500');
            feedback.classList.add('text-green-500');
        } else {
            element.classList.add('wrong');
            feedback.innerText = "âŒ å“å‘€ï¼Œç­”é”™äº†ã€‚å†æƒ³æƒ³ï¼";
            feedback.classList.remove('hidden', 'text-green-500');
            feedback.classList.add('text-red-500');
            
            // Highlight the correct answer
            options.forEach(opt => {
                if(opt.innerText.includes(isCorrect ? '' : 'PM2.5') || opt.innerText.includes('åˆå')) { // Simple hack for demo
                   // In real app, pass correct element ID
                }
            });
        }
    }
</script>

</body>
</html>
